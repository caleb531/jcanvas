/*
 jCanvas v14.07.16
 Copyright 2014 Caleb Evans
 Released under the MIT license
*/
(function(e,ua,va,Sa,da,ba,q,y,h,v){function G(d){for(var c in d)d.hasOwnProperty(c)&&(this[c]=d[c]);return this}function ma(){Z(this,ma.baseDefaults)}function ja(d){return"string"===aa(d)}function L(d){return d&&d.getContext?d.getContext("2d"):h}function wa(d){var c,a,b;for(c in d)d.hasOwnProperty(c)&&(b=d[c],a=aa(b),"string"!==a||""===b||isNaN(b)||(d[c]=ba(b)));d.text=String(d.text)}function ka(d){d=Z({},d);d.masks=d.masks.slice(0);return d}function fa(d,c){var a;d.save();a=ka(c.transforms);c.savedTransforms.push(a)}
function xa(d,c,a,b){a[b]&&(ea(a[b])?c[b]=a[b].call(d,a):c[b]=a[b])}function T(d,c,a){xa(d,c,a,"fillStyle");xa(d,c,a,"strokeStyle");c.lineWidth=a.strokeWidth;a.rounded?c.lineCap=c.lineJoin="round":(c.lineCap=a.strokeCap,c.lineJoin=a.strokeJoin,c.miterLimit=a.miterLimit);a.strokeDash||(a.strokeDash=[]);c.setLineDash&&c.setLineDash(a.strokeDash);c.webkitLineDash=c.mozDash=a.strokeDash;c.lineDashOffset=c.webkitLineDashOffset=c.mozDashOffset=a.strokeDashOffset;c.shadowOffsetX=a.shadowX;c.shadowOffsetY=
a.shadowY;c.shadowBlur=a.shadowBlur;c.shadowColor=a.shadowColor;c.globalAlpha=a.opacity;c.globalCompositeOperation=a.compositing;a.imageSmoothing&&(c.webkitImageSmoothingEnabled=c.mozImageSmoothingEnabled=a.imageSmoothing)}function ya(d,c,a){a.mask&&(a.autosave&&fa(d,c),d.clip(),c.transforms.masks.push(a._args))}function X(d,c,a){a.closed&&c.closePath();a.shadowStroke&&0!==a.strokeWidth?(c.stroke(),c.fill(),c.shadowColor="transparent",c.shadowBlur=0,c.stroke()):(c.fill(),"transparent"!==a.fillStyle&&
(c.shadowColor="transparent"),0!==a.strokeWidth&&c.stroke());a.closed||c.closePath();a._transformed&&c.restore();a.mask&&(d=F(d),ya(c,d,a))}function S(d,c,a,b,g){a._toRad=a.inDegrees?D/180:1;a._transformed=q;c.save();a.fromCenter||a._centered||b===v||(g===v&&(g=b),a.x+=b/2,a.y+=g/2,a._centered=q);a.rotate&&za(c,a,h);1===a.scale&&1===a.scaleX&&1===a.scaleY||Aa(c,a,h);(a.translate||a.translateX||a.translateY)&&Ba(c,a,h)}function F(d){var c=ca.dataCache,a;c._canvas===d&&c._data?a=c._data:(a=e.data(d,
"jCanvas"),a||(a={canvas:d,layers:[],layer:{names:{},groups:{}},eventHooks:{},intersecting:[],lastIntersected:h,cursor:e(d).css("cursor"),drag:{layer:h,dragging:y},event:{type:h,x:h,y:h},events:{},transforms:ka(na),savedTransforms:[],animating:y,animated:h,pixelRatio:1,scaled:y},e.data(d,"jCanvas",a)),c._canvas=d,c._data=a);return a}function Ca(d,c,a){for(var b in $.events)$.events.hasOwnProperty(b)&&(a[b]||a.cursors&&a.cursors[b])&&Da(d,c,a,b)}function Da(d,c,a,b){$.events[b](d,c);a._event=q}function Ea(d,
c,a){var b,g,f;if(a.draggable||a.cursors){b=["mousedown","mousemove","mouseup"];for(f=0;f<b.length;f+=1)g=b[f],Da(d,c,a,g);c.events.mouseoutdrag||(d.bind("mouseout.jCanvas",function(){var a=c.drag.layer;a&&(c.drag={},Q(d,c,a,"dragcancel"),d.drawLayers())}),c.events.mouseoutdrag=q);a._event=q}}function oa(d,c,a,b){d=c.layer.names;b?b.name!==v&&ja(a.name)&&a.name!==b.name&&delete d[a.name]:b=a;ja(b.name)&&(d[b.name]=a)}function pa(d,c,a,b){d=c.layer.groups;var g,f,k,E;if(!b)b=a;else if(b.groups!==v&&
a.groups!==h)for(f=0;f<a.groups.length;f+=1)if(g=a.groups[f],c=d[g]){for(E=0;E<c.length;E+=1)if(c[E]===a){k=E;c.splice(E,1);break}0===c.length&&delete d[g]}if(b.groups!==v&&b.groups!==h)for(f=0;f<b.groups.length;f+=1)g=b.groups[f],c=d[g],c||(c=d[g]=[],c.name=g),k===v&&(k=c.length),c.splice(k,0,a)}function qa(d,c,a,b,g){b[a]&&c._running&&!c._running[a]&&(c._running[a]=q,b[a].call(d[0],c,g),c._running[a]=y)}function Q(d,c,a,b,g){if(!a.disableEvents){if("mouseout"!==b){var f;a.cursors&&(f=a.cursors[b]);
-1!==e.inArray(f,W.cursors)&&(f=W.prefix+f);f&&d.css({cursor:f})}qa(d,a,b,a,g);qa(d,a,b,c.eventHooks,g);qa(d,a,b,$.eventHooks,g)}}function O(d,c,a,b){var g,f=c._layer?a:c;c._args=a;if(c.draggable||c.dragGroups)c.layer=q,c.draggable=q;c._method=b?b:c.method?e.fn[c.method]:c.type?e.fn[Y.drawings[c.type]]:function(){};if(c.layer&&!c._layer){if(a=e(d),b=F(d),g=b.layers,f.name===h||ja(f.name)&&b.layer.names[f.name]===v)wa(c),f=new G(c),f.canvas=d,f.layer=q,f._layer=q,f._running={},f.data=f.data!==h?Z({},
f.data):{},f.groups=f.groups!==h?f.groups.slice(0):[],oa(a,b,f),pa(a,b,f),Ca(a,b,f),Ea(a,b,f),c._event=f._event,f._method===e.fn.drawText&&a.measureText(f),f.index===h&&(f.index=g.length),g.splice(f.index,0,f),c._args=f,Q(a,b,f,"add")}else c.layer||wa(c);return f}function Fa(d,c){var a,b;for(b=0;b<W.props.length;b+=1)a=W.props[b],d[a]!==v&&(d["_"+a]=d[a],W.propsObj[a]=q,c&&delete d[a])}function Ta(d,c,a){var b,g,f,k;for(b in a)if(a.hasOwnProperty(b)&&(g=a[b],ea(g)&&(a[b]=g.call(d,c,b)),"object"===
aa(g)&&Ga(g))){for(f in g)g.hasOwnProperty(f)&&(k=g[f],c[b]!==v&&(c[b+"."+f]=c[b][f],a[b+"."+f]=k));delete a[b]}return a}function Ha(d){var c,a,b=[],g=1;d.match(/^([a-z]+|#[0-9a-f]+)$/gi)&&("transparent"===d&&(d="rgba( 0,0,0,0 )"),a=ua.head,c=a.style.color,a.style.color=d,d=e.css(a,"color"),a.style.color=c);d.match(/^rgb/gi)&&(b=d.match(/(\d+(\.\d+)?)/gi),d.match(/%/gi)&&(g=2.55),b[0]*=g,b[1]*=g,b[2]*=g,b[3]=b[3]!==v?ba(b[3]):1);return b}function Ua(d){var c=3,a;"array"!==aa(d.start)&&(d.start=Ha(d.start),
d.end=Ha(d.end));d.now=[];if(1!==d.start[3]||1!==d.end[3])c=4;for(a=0;a<c;a+=1)d.now[a]=d.start[a]+(d.end[a]-d.start[a])*d.pos,3>a&&(d.now[a]=Va(d.now[a]));1!==d.start[3]||1!==d.end[3]?d.now="rgba( "+d.now.join(",")+" )":(d.now.slice(0,3),d.now="rgb( "+d.now.join(",")+" )");d.elem.nodeName?d.elem.style[d.prop]=d.now:d.elem[d.prop]=d.now}function Wa(d){Y.touchEvents[d]&&(d=Y.touchEvents[d]);return d}function Xa(d){$.events[d]=function(c,a){function b(a){k.x=a.offsetX;k.y=a.offsetY;k.type=g;k.event=
a;c.drawLayers({resetFire:q});a.preventDefault()}var g,f,k;k=a.event;g="mouseover"===d||"mouseout"===d?"mousemove":d;f=Wa(g);a.events[g]||(f!==g?c.bind(g+".jCanvas "+f+".jCanvas",b):c.bind(g+".jCanvas",b),a.events[g]=q)}}function U(d,c,a){var b,g,f,k;if(a=a._args)d=F(d),b=d.event,b.x!==h&&b.y!==h&&(f=b.x*d.pixelRatio,k=b.y*d.pixelRatio,g=c.isPointInPath(f,k)||c.isPointInStroke&&c.isPointInStroke(f,k)),c=d.transforms,a.eventX=b.x,a.eventY=b.y,a.event=b.event,b=d.transforms.rotate,f=a.eventX,k=a.eventY,
0!==b?(a._eventX=f*M(-b)-k*R(-b),a._eventY=k*M(-b)+f*R(-b)):(a._eventX=f,a._eventY=k),a._eventX/=c.scaleX,a._eventY/=c.scaleY,g&&d.intersecting.push(a),a.intersects=!!g}function za(d,c,a){c._toRad=c.inDegrees?D/180:1;d.translate(c.x,c.y);d.rotate(c.rotate*c._toRad);d.translate(-c.x,-c.y);a&&(a.rotate+=c.rotate*c._toRad)}function Aa(d,c,a){1!==c.scale&&(c.scaleX=c.scaleY=c.scale);d.translate(c.x,c.y);d.scale(c.scaleX,c.scaleY);d.translate(-c.x,-c.y);a&&(a.scaleX*=c.scaleX,a.scaleY*=c.scaleY)}function Ba(d,
c,a){c.translate&&(c.translateX=c.translateY=c.translate);d.translate(c.translateX,c.translateY);a&&(a.translateX+=c.translateX,a.translateY+=c.translateY)}function Ia(d){for(;0>d;)d+=2*D;return d}function Ja(d,c,a,b){var g,f,k,E,e,t,h;a===b?h=t=0:(t=a.x,h=a.y);b.inDegrees||360!==b.end||(b.end=2*D);b.start*=a._toRad;b.end*=a._toRad;b.start-=D/2;b.end-=D/2;e=D/180;b.ccw&&(e*=-1);g=b.x+b.radius*M(b.start+e);f=b.y+b.radius*R(b.start+e);k=b.x+b.radius*M(b.start);E=b.y+b.radius*R(b.start);ga(d,c,a,b,g,
f,k,E);c.arc(b.x+t,b.y+h,b.radius,b.start,b.end,b.ccw);g=b.x+b.radius*M(b.end+e);e=b.y+b.radius*R(b.end+e);f=b.x+b.radius*M(b.end);k=b.y+b.radius*R(b.end);ha(d,c,a,b,f,k,g,e)}function Ka(d,c,a,b,g,f,k,e){var h,t;b.arrowRadius&&!a.closed&&(t=Ya(e-f,k-g),t-=D,d=a.strokeWidth*M(t),h=a.strokeWidth*R(t),a=k+b.arrowRadius*M(t+b.arrowAngle/2),g=e+b.arrowRadius*R(t+b.arrowAngle/2),f=k+b.arrowRadius*M(t-b.arrowAngle/2),b=e+b.arrowRadius*R(t-b.arrowAngle/2),c.moveTo(a-d,g-h),c.lineTo(k-d,e-h),c.lineTo(f-d,
b-h),c.moveTo(k-d,e-h),c.lineTo(k+d,e+h),c.moveTo(k,e))}function ga(d,c,a,b,g,f,k,e){b._arrowAngleConverted||(b.arrowAngle*=a._toRad,b._arrowAngleConverted=q);b.startArrow&&Ka(d,c,a,b,g,f,k,e)}function ha(d,c,a,b,g,f,k,e){b._arrowAngleConverted||(b.arrowAngle*=a._toRad,b._arrowAngleConverted=q);b.endArrow&&Ka(d,c,a,b,g,f,k,e)}function La(d,c,a,b){var g,f,k;g=2;ga(d,c,a,b,b.x2+a.x,b.y2+a.y,b.x1+a.x,b.y1+a.y);for(b.x1!==v&&b.y1!==v&&c.moveTo(b.x1+a.x,b.y1+a.y);q;)if(f=b["x"+g],k=b["y"+g],f!==v&&k!==
v)c.lineTo(f+a.x,k+a.y),g+=1;else break;g-=1;ha(d,c,a,b,b["x"+(g-1)]+a.x,b["y"+(g-1)]+a.y,b["x"+g]+a.x,b["y"+g]+a.y)}function Ma(d,c,a,b){var g,f,k,e,h;g=2;ga(d,c,a,b,b.cx1+a.x,b.cy1+a.y,b.x1+a.x,b.y1+a.y);for(b.x1!==v&&b.y1!==v&&c.moveTo(b.x1+a.x,b.y1+a.y);q;)if(f=b["x"+g],k=b["y"+g],e=b["cx"+(g-1)],h=b["cy"+(g-1)],f!==v&&k!==v&&e!==v&&h!==v)c.quadraticCurveTo(e+a.x,h+a.y,f+a.x,k+a.y),g+=1;else break;g-=1;ha(d,c,a,b,b["cx"+(g-1)]+a.x,b["cy"+(g-1)]+a.y,b["x"+g]+a.x,b["y"+g]+a.y)}function Na(d,c,a,
b){var g,f,k,e,h,t,J,B;g=2;f=1;ga(d,c,a,b,b.cx1+a.x,b.cy1+a.y,b.x1+a.x,b.y1+a.y);for(b.x1!==v&&b.y1!==v&&c.moveTo(b.x1+a.x,b.y1+a.y);q;)if(k=b["x"+g],e=b["y"+g],h=b["cx"+f],t=b["cy"+f],J=b["cx"+(f+1)],B=b["cy"+(f+1)],k!==v&&e!==v&&h!==v&&t!==v&&J!==v&&B!==v)c.bezierCurveTo(h+a.x,t+a.y,J+a.x,B+a.y,k+a.x,e+a.y),g+=1,f+=2;else break;g-=1;f-=2;ha(d,c,a,b,b["cx"+(f+1)]+a.x,b["cy"+(f+1)]+a.y,b["x"+g]+a.x,b["y"+g]+a.y)}function Oa(d,c,a){c*=d._toRad;c-=D/2;return a*M(c)}function Pa(d,c,a){c*=d._toRad;c-=
D/2;return a*R(c)}function Qa(d,c,a,b){var g,f,k,e,h,t,J;a===b?h=e=0:(e=a.x,h=a.y);g=1;f=e=t=b.x+e;k=h=J=b.y+h;ga(d,c,a,b,f+Oa(a,b.a1,b.l1),k+Pa(a,b.a1,b.l1),f,k);for(b.x!==v&&b.y!==v&&c.moveTo(f,k);q;)if(f=b["a"+g],k=b["l"+g],f!==v&&k!==v)e=t,h=J,t+=Oa(a,f,k),J+=Pa(a,f,k),c.lineTo(t,J),g+=1;else break;ha(d,c,a,b,e,h,t,J)}function ra(d,c,a){isNaN(Number(a.fontSize))||(a.fontSize+="px");c.font=a.fontStyle+" "+a.fontSize+" "+a.fontFamily}function sa(d,c,a,b){var g,f;g=ca.propCache;if(g.text===a.text&&
g.fontStyle===a.fontStyle&&g.fontSize===a.fontSize&&g.fontFamily===a.fontFamily&&g.maxWidth===a.maxWidth&&g.lineHeight===a.lineHeight)a.width=g.width,a.height=g.height;else{a.width=c.measureText(b[0]).width;for(f=1;f<b.length;f+=1)g=c.measureText(b[f]).width,g>a.width&&(a.width=g);c=d.style.fontSize;d.style.fontSize=a.fontSize;a.height=ba(e.css(d,"fontSize"))*b.length*a.lineHeight;d.style.fontSize=c}}function Ra(d,c){var a=c.maxWidth,b=c.text.split("\n"),g=[],f,k,e,h,t;for(e=0;e<b.length;e+=1){h=
b[e];t=h.split(" ");f=[];k="";if(1===t.length||d.measureText(h).width<a)f=[h];else{for(h=0;h<t.length;h+=1)d.measureText(k+t[h]).width>a&&(""!==k&&f.push(k),k=""),k+=t[h],h!==t.length-1&&(k+=" ");f.push(k)}g=g.concat(f.join("\n").replace(/( (\n))|( $)/gi,"$2").split("\n"))}return g}var la,Z=e.extend,ia=e.inArray,aa=e.type,ea=e.isFunction,Ga=e.isPlainObject,D=da.PI,Va=da.round,Za=da.abs,R=da.sin,M=da.cos,Ya=da.atan2,ta=Sa.prototype.slice,$a=e.event.fix,Y={},ca={dataCache:{},propCache:{},imageCache:{}},
na={rotate:0,scaleX:1,scaleY:1,translateX:0,translateY:0,masks:[]},W={},$={events:{},eventHooks:{},future:{}};ma.baseDefaults={align:"center",arrowAngle:90,arrowRadius:0,autosave:q,baseline:"middle",bringToFront:y,ccw:y,closed:y,compositing:"source-over",concavity:0,cornerRadius:0,count:1,cropFromCenter:q,crossOrigin:"",cursors:h,disableEvents:y,draggable:y,dragGroups:h,groups:h,data:h,dx:h,dy:h,end:360,eventX:h,eventY:h,fillStyle:"transparent",fontStyle:"normal",fontSize:"12pt",fontFamily:"sans-serif",
fromCenter:q,height:h,imageSmoothing:q,inDegrees:q,index:h,letterSpacing:h,lineHeight:1,layer:y,mask:y,maxWidth:h,miterLimit:10,name:h,opacity:1,r1:h,r2:h,radius:0,repeat:"repeat",respectAlign:y,rotate:0,rounded:y,scale:1,scaleX:1,scaleY:1,shadowBlur:0,shadowColor:"transparent",shadowStroke:y,shadowX:0,shadowY:0,sHeight:h,sides:0,source:"",spread:0,start:0,strokeCap:"butt",strokeDash:h,strokeDashOffset:0,strokeJoin:"miter",strokeStyle:"transparent",strokeWidth:1,sWidth:h,sx:h,sy:h,text:"",translate:0,
translateX:0,translateY:0,type:h,visible:q,width:h,x:0,y:0};la=new ma;G.prototype=la;$.extend=function(d){d.name&&(d.props&&Z(la,d.props),e.fn[d.name]=function a(b){var g,f,k,e;for(f=0;f<this.length;f+=1)if(g=this[f],k=L(g))e=new G(b),O(g,e,b,a),T(g,k,e),d.fn.call(g,k,e);return this},d.type&&(Y.drawings[d.type]=d.name));return e.fn[d.name]};e.fn.getEventHooks=function(){var d;d={};0!==this.length&&(d=this[0],d=F(d),d=d.eventHooks);return d};e.fn.setEventHooks=function(d){var c,a;for(c=0;c<this.length;c+=
1)e(this[c]),a=F(this[c]),Z(a.eventHooks,d);return this};e.fn.getLayers=function(d){var c,a,b,g,f=[];if(0!==this.length)if(c=this[0],a=F(c),a=a.layers,ea(d))for(g=0;g<a.length;g+=1)b=a[g],d.call(c,b)&&f.push(b);else f=a;return f};e.fn.getLayer=function(d){var c,a,b,g;if(0!==this.length)if(c=this[0],a=F(c),c=a.layers,g=aa(d),d&&d.layer)b=d;else if("number"===g)0>d&&(d=c.length+d),b=c[d];else if("regexp"===g)for(a=0;a<c.length;a+=1){if(ja(c[a].name)&&c[a].name.match(d)){b=c[a];break}}else b=a.layer.names[d];
return b};e.fn.getLayerGroup=function(d){var c,a,b,g=aa(d);if(0!==this.length)if(c=this[0],"array"===g)b=d;else if("regexp"===g)for(a in c=F(c),c=c.layer.groups,c){if(a.match(d)){b=c[a];break}}else c=F(c),b=c.layer.groups[d];return b};e.fn.getLayerIndex=function(d){var c=this.getLayers();d=this.getLayer(d);return ia(d,c)};e.fn.setLayer=function(d,c){var a,b,g,f,k,h,P;for(b=0;b<this.length;b+=1)if(a=e(this[b]),g=F(this[b]),f=e(this[b]).getLayer(d)){oa(a,g,f,c);pa(a,g,f,c);for(k in c)c.hasOwnProperty(k)&&
(h=c[k],P=aa(h),"object"===P&&Ga(h)?f[k]=Z({},h):"array"===P?f[k]=h.slice(0):"string"===P?0===h.indexOf("+=")?f[k]+=ba(h.substr(2)):0===h.indexOf("-=")?f[k]-=ba(h.substr(2)):isNaN(h)?f[k]=h:f[k]=ba(h):f[k]=h);Ca(a,g,f);Ea(a,g,f);e.isEmptyObject(c)===y&&Q(a,g,f,"change",c)}return this};e.fn.setLayers=function(d,c){var a,b,g,f;for(b=0;b<this.length;b+=1)for(a=e(this[b]),g=a.getLayers(c),f=0;f<g.length;f+=1)a.setLayer(g[f],d);return this};e.fn.setLayerGroup=function(d,c){var a,b,g,f;for(b=0;b<this.length;b+=
1)if(a=e(this[b]),g=a.getLayerGroup(d))for(f=0;f<g.length;f+=1)a.setLayer(g[f],c);return this};e.fn.moveLayer=function(d,c){var a,b,g,f,k;for(b=0;b<this.length;b+=1)if(a=e(this[b]),g=F(this[b]),f=g.layers,k=a.getLayer(d))k.index=ia(k,f),f.splice(k.index,1),f.splice(c,0,k),0>c&&(c=f.length+c),k.index=c,Q(a,g,k,"move");return this};e.fn.removeLayer=function(d){var c,a,b,g,f;for(a=0;a<this.length;a+=1)if(c=e(this[a]),b=F(this[a]),g=c.getLayers(),f=c.getLayer(d))f.index=ia(f,g),g.splice(f.index,1),oa(c,
b,f,{name:h}),pa(c,b,f,{groups:h}),Q(c,b,f,"remove");return this};e.fn.removeLayers=function(d){var c,a,b,g,f,k;for(a=0;a<this.length;a+=1){c=e(this[a]);b=F(this[a]);g=c.getLayers(d);for(k=0;k<g.length;k+=1)f=g[k],c.removeLayer(f),k-=1;b.layer.names={};b.layer.groups={}}return this};e.fn.removeLayerGroup=function(d){var c,a,b,g;if(d!==v)for(a=0;a<this.length;a+=1)if(c=e(this[a]),F(this[a]),c.getLayers(),b=c.getLayerGroup(d))for(b=b.slice(0),g=0;g<b.length;g+=1)c.removeLayer(b[g]);return this};e.fn.addLayerToGroup=
function(d,c){var a,b,g,f=[c];for(b=0;b<this.length;b+=1)a=e(this[b]),g=a.getLayer(d),g.groups&&(f=g.groups.slice(0),-1===ia(c,g.groups)&&f.push(c)),a.setLayer(g,{groups:f});return this};e.fn.removeLayerFromGroup=function(d,c){var a,b,g,f=[],k;for(b=0;b<this.length;b+=1)a=e(this[b]),g=a.getLayer(d),g.groups&&(k=ia(c,g.groups),-1!==k&&(f=g.groups.slice(0),f.splice(k,1),a.setLayer(g,{groups:f})));return this};W.cursors=["grab","grabbing","zoom-in","zoom-out"];W.prefix=function(){var d=getComputedStyle(ua.documentElement,
"");return"-"+(ta.call(d).join("").match(/-(moz|webkit|ms)-/)||""===d.OLink&&["","o"])[1]+"-"}();e.fn.triggerLayerEvent=function(d,c){var a,b,g;for(b=0;b<this.length;b+=1)a=e(this[b]),g=F(this[b]),(d=a.getLayer(d))&&Q(a,g,d,c);return this};e.fn.drawLayer=function(d){var c,a,b;for(c=0;c<this.length;c+=1)b=e(this[c]),(a=L(this[c]))&&(a=b.getLayer(d))&&a.visible&&a._method&&(a._next=h,a._method.call(b,a));return this};e.fn.drawLayers=function(d){var c,a,b=Z({},d),g,f,k,E,P,t,J;b.index||(b.index=0);for(c=
0;c<this.length;c+=1)if(d=e(this[c]),a=L(this[c])){E=F(this[c]);b.clear!==y&&d.clearCanvas();a=E.layers;for(k=b.index;k<a.length;k+=1)if(g=a[k],g.index=k,b.resetFire&&(g._fired=y),P=d,t=g,f=k+1,t&&t.visible&&t._method&&(t._next=f?f:h,t._method.call(P,t)),g._masks=E.transforms.masks.slice(0),g._method===e.fn.drawImage&&g.visible){J=!0;break}if(J)break;g=E;var B=f=t=P=void 0;P=h;for(t=g.intersecting.length-1;0<=t;t-=1)if(P=g.intersecting[t],P._masks){for(B=P._masks.length-1;0<=B;B-=1)if(f=P._masks[B],
!f.intersects){P.intersects=y;break}if(P.intersects)break}g=P;P=E.event;t=P.type;if(E.drag.layer){f=d;var B=E,z=t,A=void 0,m=void 0,u=void 0,p=u=void 0,x=void 0,u=A=A=u=void 0,u=B.drag,p=(m=u.layer)&&m.dragGroups||[],A=B.layers;if("mousemove"===z||"touchmove"===z){if(u.dragging||(u.dragging=q,m.dragging=q,m.bringToFront&&(A.splice(m.index,1),m.index=A.push(m)),m._startX=m.x,m._startY=m.y,m._endX=m._eventX,m._endY=m._eventY,Q(f,B,m,"dragstart")),u.dragging)for(A=m._eventX-(m._endX-m._startX),u=m._eventY-
(m._endY-m._startY),m.dx=A-m.x,m.dy=u-m.y,m.x=A,m.y=u,Q(f,B,m,"drag"),A=0;A<p.length;A+=1)if(u=p[A],x=B.layer.groups[u],m.groups&&x)for(u=0;u<x.length;u+=1)x[u]!==m&&(x[u].x+=m.dx,x[u].y+=m.dy)}else if("mouseup"===z||"touchend"===z)u.dragging&&(m.dragging=y,u.dragging=y,Q(f,B,m,"dragstop")),B.drag={}}f=E.lastIntersected;f===h||g===f||!f._hovered||f._fired||E.drag.dragging||(E.lastIntersected=h,f._fired=q,f._hovered=y,Q(d,E,f,"mouseout"),d.css({cursor:E.cursor}));g&&(g[t]||Y.mouseEvents[t]&&(t=Y.mouseEvents[t]),
g._event&&g.intersects&&(E.lastIntersected=g,!(g.mouseover||g.mouseout||g.cursors)||E.drag.dragging||g._hovered||g._fired||(g._fired=q,g._hovered=q,Q(d,E,g,"mouseover")),g._fired||(g._fired=q,P.type=h,Q(d,E,g,t)),!g.draggable||g.disableEvents||"mousedown"!==t&&"touchstart"!==t||(E.drag.layer=g)));g!==h||E.drag.dragging||d.css({cursor:E.cursor});k===a.length&&(E.intersecting.length=0,E.transforms=ka(na),E.savedTransforms.length=0)}return this};e.fn.addLayer=function(d){var c,a;for(c=0;c<this.length;c+=
1)if(a=L(this[c]))a=new G(d),a.layer=q,O(this[c],a,d);return this};W.props=["width","height","opacity","lineHeight"];W.propsObj={};e.fn.animateLayer=function(){function d(a,b,c){return function(){var d,g;for(g=0;g<W.props.length;g+=1)d=W.props[g],c[d]=c["_"+d];for(var k in c)c.hasOwnProperty(k)&&-1!==k.indexOf(".")&&delete c[k];b.animating&&b.animated!==c||a.drawLayers();c._animating=y;b.animating=y;b.animated=h;f[4]&&f[4].call(a[0],c);Q(a,b,c,"animateend")}}function c(a,b,c){return function(d,g){var k,
e,h=!1;"_"===g.prop[0]&&(h=!0,g.prop=g.prop.replace("_",""),c[g.prop]=c["_"+g.prop]);-1!==g.prop.indexOf(".")&&(k=g.prop.split("."),e=k[0],k=k[1],c[e]&&(c[e][k]=g.now));c._pos!==g.pos&&(c._pos=g.pos,c._animating||b.animating||(c._animating=q,b.animating=q,b.animated=c),b.animating&&b.animated!==c||a.drawLayers());f[5]&&f[5].call(a[0],d,g,c);Q(a,b,c,"animate",g);h&&(g.prop="_"+g.prop)}}var a,b,g,f=ta.call(arguments,0),k,E;"object"===aa(f[2])?(f.splice(2,0,f[2].duration||h),f.splice(3,0,f[3].easing||
h),f.splice(4,0,f[4].complete||h),f.splice(5,0,f[5].step||h)):(f[2]===v?(f.splice(2,0,h),f.splice(3,0,h),f.splice(4,0,h)):ea(f[2])&&(f.splice(2,0,h),f.splice(3,0,h)),f[3]===v?(f[3]=h,f.splice(4,0,h)):ea(f[3])&&f.splice(3,0,h));for(b=0;b<this.length;b+=1)if(a=e(this[b]),g=L(this[b]))g=F(this[b]),(k=a.getLayer(f[0]))&&k._method!==e.fn.draw&&(E=Z({},f[1]),E=Ta(this[b],k,E),Fa(E,q),Fa(k),k.style=W.propsObj,e(k).animate(E,{duration:f[2],easing:e.easing[f[3]]?f[3]:h,complete:d(a,g,k),step:c(a,g,k)}),Q(a,
g,k,"animatestart"));return this};e.fn.animateLayerGroup=function(d){var c,a,b=ta.call(arguments,0),g,f;for(a=0;a<this.length;a+=1)if(c=e(this[a]),g=c.getLayerGroup(d))for(f=0;f<g.length;f+=1)b[0]=g[f],c.animateLayer.apply(c,b);return this};e.fn.delayLayer=function(d,c){var a,b,g,f;c=c||0;for(b=0;b<this.length;b+=1)if(a=e(this[b]),g=F(this[b]),f=a.getLayer(d))e(f).delay(c),Q(a,g,f,"delay");return this};e.fn.delayLayerGroup=function(d,c){var a,b,g,f,k;c=c||0;for(b=0;b<this.length;b+=1)if(a=e(this[b]),
g=a.getLayerGroup(d))for(k=0;k<g.length;k+=1)f=g[k],a.delayLayer(f,c);return this};e.fn.stopLayer=function(d,c){var a,b,g,f;for(b=0;b<this.length;b+=1)if(a=e(this[b]),g=F(this[b]),f=a.getLayer(d))e(f).stop(c),Q(a,g,f,"stop");return this};e.fn.stopLayerGroup=function(d,c){var a,b,g,f,k;for(b=0;b<this.length;b+=1)if(a=e(this[b]),g=a.getLayerGroup(d))for(k=0;k<g.length;k+=1)f=g[k],a.stopLayer(f,c);return this};(function(d){var c;for(c=0;c<d.length;c+=1)e.fx.step[d[c]]=Ua})("color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor fillStyle outlineColor strokeStyle shadowColor".split(" "));
Y.touchEvents={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};Y.mouseEvents={touchstart:"mousedown",touchend:"mouseup",touchmove:"mousemove"};(function(d){var c;for(c=0;c<d.length;c+=1)Xa(d[c])})("click dblclick mousedown mouseup mousemove mouseover mouseout touchstart touchmove touchend".split(" "));e.event.fix=function(d){var c,a;d=$a.call(e.event,d);if(c=d.originalEvent)if(a=c.changedTouches,d.pageX!==v&&d.offsetX===v){if(c=e(d.currentTarget).offset())d.offsetX=d.pageX-c.left,
d.offsetY=d.pageY-c.top}else a&&(c=e(d.currentTarget).offset())&&(d.offsetX=a[0].pageX-c.left,d.offsetY=a[0].pageY-c.top);return d};Y.drawings={arc:"drawArc",bezier:"drawBezier",ellipse:"drawEllipse","function":"draw",image:"drawImage",line:"drawLine",path:"drawPath",polygon:"drawPolygon",slice:"drawSlice",quadratic:"drawQuadratic",rectangle:"drawRect",text:"drawText",vector:"drawVector",save:"saveCanvas",restore:"restoreCanvas",rotate:"rotateCanvas",scale:"scaleCanvas",translate:"translateCanvas"};
e.fn.draw=function c(a){var b,g,f=new G(a);if(Y.drawings[f.type]&&"function"!==f.type)this[Y.drawings[f.type]](a);else for(b=0;b<this.length;b+=1)if(e(this[b]),g=L(this[b]))f=new G(a),O(this[b],f,a,c),f.visible&&f.fn&&f.fn.call(this[b],g,f);return this};e.fn.clearCanvas=function a(b){var g,f,k=new G(b);for(g=0;g<this.length;g+=1)if(f=L(this[g]))k.width===h||k.height===h?(f.save(),f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,this[g].width,this[g].height),f.restore()):(O(this[g],k,b,a),S(this[g],f,k,
k.width,k.height),f.clearRect(k.x-k.width/2,k.y-k.height/2,k.width,k.height),k._transformed&&f.restore());return this};e.fn.saveCanvas=function b(g){var f,k,e,h,t;for(f=0;f<this.length;f+=1)if(k=L(this[f]))for(h=F(this[f]),e=new G(g),O(this[f],e,g,b),t=0;t<e.count;t+=1)fa(k,h);return this};e.fn.restoreCanvas=function g(f){var k,e,h,t,J;for(k=0;k<this.length;k+=1)if(e=L(this[k]))for(t=F(this[k]),h=new G(f),O(this[k],h,f,g),J=0;J<h.count;J+=1){var B=e,z=t;0===z.savedTransforms.length?z.transforms=ka(na):
(B.restore(),z.transforms=z.savedTransforms.pop())}return this};e.fn.rotateCanvas=function f(k){var e,h,t,J;for(e=0;e<this.length;e+=1)if(h=L(this[e]))J=F(this[e]),t=new G(k),O(this[e],t,k,f),t.autosave&&fa(h,J),za(h,t,J.transforms);return this};e.fn.scaleCanvas=function k(e){var h,t,J,B;for(h=0;h<this.length;h+=1)if(t=L(this[h]))B=F(this[h]),J=new G(e),O(this[h],J,e,k),J.autosave&&fa(t,B),Aa(t,J,B.transforms);return this};e.fn.translateCanvas=function E(e){var h,J,B,z;for(h=0;h<this.length;h+=1)if(J=
L(this[h]))z=F(this[h]),B=new G(e),O(this[h],B,e,E),B.autosave&&fa(J,z),Ba(J,B,z.transforms);return this};e.fn.drawRect=function P(e){var h,B,z,A,m,u,p,x,K;for(h=0;h<this.length;h+=1)if(B=L(this[h]))z=new G(e),O(this[h],z,e,P),z.visible&&(T(this[h],B,z),S(this[h],B,z,z.width,z.height),B.beginPath(),z.width&&z.height&&(A=z.x-z.width/2,m=z.y-z.height/2,(x=Za(z.cornerRadius))?(u=z.x+z.width/2,p=z.y+z.height/2,0>z.width&&(K=A,A=u,u=K),0>z.height&&(K=m,m=p,p=K),0>u-A-2*x&&(x=(u-A)/2),0>p-m-2*x&&(x=(p-
m)/2),B.moveTo(A+x,m),B.lineTo(u-x,m),B.arc(u-x,m+x,x,3*D/2,2*D,y),B.lineTo(u,p-x),B.arc(u-x,p-x,x,0,D/2,y),B.lineTo(A+x,p),B.arc(A+x,p-x,x,D/2,D,y),B.lineTo(A,m+x),B.arc(A+x,m+x,x,D,3*D/2,y),z.closed=q):B.rect(A,m,z.width,z.height)),U(this[h],B,z),X(this[h],B,z));return this};e.fn.drawArc=function t(e){var h,z,A;for(h=0;h<this.length;h+=1)if(z=L(this[h]))A=new G(e),O(this[h],A,e,t),A.visible&&(T(this[h],z,A),S(this[h],z,A,2*A.radius),z.beginPath(),Ja(this[h],z,A,A),U(this[h],z,A),X(this[h],z,A));
return this};e.fn.drawEllipse=function J(h){var e,A,m,u,p;for(e=0;e<this.length;e+=1)if(A=L(this[e]))m=new G(h),O(this[e],m,h,J),m.visible&&(T(this[e],A,m),S(this[e],A,m,m.width,m.height),u=4/3*m.width,p=m.height,A.beginPath(),A.moveTo(m.x,m.y-p/2),A.bezierCurveTo(m.x-u/2,m.y-p/2,m.x-u/2,m.y+p/2,m.x,m.y+p/2),A.bezierCurveTo(m.x+u/2,m.y+p/2,m.x+u/2,m.y-p/2,m.x,m.y-p/2),U(this[e],A,m),m.closed=q,X(this[e],A,m));return this};e.fn.drawPolygon=function B(e){var h,m,u,p,x,K,H,w,n,l;for(h=0;h<this.length;h+=
1)if(m=L(this[h]))if(u=new G(e),O(this[h],u,e,B),u.visible){T(this[h],m,u);S(this[h],m,u,2*u.radius);x=2*D/u.sides;K=x/2;p=K+D/2;H=u.radius*M(K);m.beginPath();for(l=0;l<u.sides;l+=1)w=u.x+u.radius*M(p),n=u.y+u.radius*R(p),m.lineTo(w,n),u.concavity&&(w=u.x+(H+-H*u.concavity)*M(p+K),n=u.y+(H+-H*u.concavity)*R(p+K),m.lineTo(w,n)),p+=x;U(this[h],m,u);u.closed=q;X(this[h],m,u)}return this};e.fn.drawSlice=function z(h){var m,u,p,x,K;for(m=0;m<this.length;m+=1)if(e(this[m]),u=L(this[m]))p=new G(h),O(this[m],
p,h,z),p.visible&&(T(this[m],u,p),S(this[m],u,p,2*p.radius),p.start*=p._toRad,p.end*=p._toRad,p.start-=D/2,p.end-=D/2,p.start=Ia(p.start),p.end=Ia(p.end),p.end<p.start&&(p.end+=2*D),x=(p.start+p.end)/2,K=p.radius*p.spread*M(x),x=p.radius*p.spread*R(x),p.x+=K,p.y+=x,u.beginPath(),u.arc(p.x,p.y,p.radius,p.start,p.end,p.ccw),u.lineTo(p.x,p.y),U(this[m],u,p),p.closed=q,X(this[m],u,p));return this};e.fn.drawLine=function A(h){var e,p,x;for(e=0;e<this.length;e+=1)if(p=L(this[e]))x=new G(h),O(this[e],x,
h,A),x.visible&&(T(this[e],p,x),S(this[e],p,x),p.beginPath(),La(this[e],p,x,x),U(this[e],p,x),X(this[e],p,x));return this};e.fn.drawQuadratic=function m(e){var h,x,K;for(h=0;h<this.length;h+=1)if(x=L(this[h]))K=new G(e),O(this[h],K,e,m),K.visible&&(T(this[h],x,K),S(this[h],x,K),x.beginPath(),Ma(this[h],x,K,K),U(this[h],x,K),X(this[h],x,K));return this};e.fn.drawBezier=function u(h){var e,K,H;for(e=0;e<this.length;e+=1)if(K=L(this[e]))H=new G(h),O(this[e],H,h,u),H.visible&&(T(this[e],K,H),S(this[e],
K,H),K.beginPath(),Na(this[e],K,H,H),U(this[e],K,H),X(this[e],K,H));return this};e.fn.drawVector=function p(e){var h,H,w;for(h=0;h<this.length;h+=1)if(H=L(this[h]))w=new G(e),O(this[h],w,e,p),w.visible&&(T(this[h],H,w),S(this[h],H,w),H.beginPath(),Qa(this[h],H,w,w),U(this[h],H,w),X(this[h],H,w));return this};e.fn.drawPath=function x(h){var e,w,n,l,C;for(e=0;e<this.length;e+=1)if(w=L(this[e]))if(n=new G(h),O(this[e],n,h,x),n.visible){T(this[e],w,n);S(this[e],w,n);w.beginPath();for(l=1;q;)if(C=n["p"+
l],C!==v)C=new G(C),"line"===C.type?La(this[e],w,n,C):"quadratic"===C.type?Ma(this[e],w,n,C):"bezier"===C.type?Na(this[e],w,n,C):"vector"===C.type?Qa(this[e],w,n,C):"arc"===C.type&&Ja(this[e],w,n,C),l+=1;else break;U(this[e],w,n);X(this[e],w,n)}return this};e.fn.drawText=function K(H){var w,n,l,C,V,s,N,q,v,y;for(w=0;w<this.length;w+=1)if(e(this[w]),n=L(this[w]))if(l=new G(H),C=O(this[w],l,H,K),l.visible){T(this[w],n,l);n.textBaseline=l.baseline;n.textAlign=l.align;ra(this[w],n,l);V=l.maxWidth!==h?
Ra(n,l):l.text.toString().split("\n");sa(this[w],n,l,V);C&&(C.width=l.width,C.height=l.height);S(this[w],n,l,l.width,l.height);N=l.x;"left"===l.align?l.respectAlign?l.x+=l.width/2:N-=l.width/2:"right"===l.align&&(l.respectAlign?l.x-=l.width/2:N+=l.width/2);if(l.radius)for(N=ba(l.fontSize),l.letterSpacing===h&&(l.letterSpacing=N/500),s=0;s<V.length;s+=1){n.save();n.translate(l.x,l.y);C=V[s];q=C.length;n.rotate(-(D*l.letterSpacing*(q-1))/2);for(y=0;y<q;y+=1)v=C[y],0!==y&&n.rotate(D*l.letterSpacing),
n.save(),n.translate(0,-l.radius),n.fillText(v,0,0),n.restore();l.radius-=N;l.letterSpacing+=N/(1E3*D);n.restore()}else for(s=0;s<V.length;s+=1)C=V[s],q=l.y+s*l.height/V.length-(V.length-1)*l.height/V.length/2,n.shadowColor=l.shadowColor,n.fillText(C,N,q),"transparent"!==l.fillStyle&&(n.shadowColor="transparent"),0!==l.strokeWidth&&n.strokeText(C,N,q);q=0;"top"===l.baseline?q+=l.height/2:"bottom"===l.baseline&&(q-=l.height/2);l._event&&(n.beginPath(),n.rect(l.x-l.width/2,l.y-l.height/2+q,l.width,
l.height),U(this[w],n,l),n.closePath());l._transformed&&n.restore()}ca.propCache=l;return this};e.fn.measureText=function(e){var h,w;h=this.getLayer(e);if(!h||h&&!h._layer)h=new G(e);if(e=L(this[0]))ra(this[0],e,h),w=Ra(e,h),sa(this[0],e,h,w);return h};e.fn.drawImage=function H(w){function n(l,n,s,r,w){return function(){var C=e(l);T(l,n,r);r.width===h&&r.sWidth===h&&(r.width=r.sWidth=I.width);r.height===h&&r.sHeight===h&&(r.height=r.sHeight=I.height);w&&(w.width=r.width,w.height=r.height);r.sWidth!==
h&&r.sHeight!==h&&r.sx!==h&&r.sy!==h?(r.width===h&&(r.width=r.sWidth),r.height===h&&(r.height=r.sHeight),r.cropFromCenter&&(r.sx+=r.sWidth/2,r.sy+=r.sHeight/2),0>r.sy-r.sHeight/2&&(r.sy=r.sHeight/2),r.sy+r.sHeight/2>I.height&&(r.sy=I.height-r.sHeight/2),0>r.sx-r.sWidth/2&&(r.sx=r.sWidth/2),r.sx+r.sWidth/2>I.width&&(r.sx=I.width-r.sWidth/2),S(l,n,r,r.width,r.height),n.drawImage(I,r.sx-r.sWidth/2,r.sy-r.sHeight/2,r.sWidth,r.sHeight,r.x-r.width/2,r.y-r.height/2,r.width,r.height)):(S(l,n,r,r.width,r.height),
n.drawImage(I,r.x-r.width/2,r.y-r.height/2,r.width,r.height));n.beginPath();n.rect(r.x-r.width/2,r.y-r.height/2,r.width,r.height);U(l,n,r);n.closePath();r._transformed&&n.restore();ya(n,s,r);r.layer?Q(C,s,w,"load"):r.load&&r.load.call(C[0],w);r.layer&&(w._masks=s.transforms.masks.slice(0),r._next&&C.drawLayers({clear:y,resetFire:q,index:r._next}))}}var l,C,V,s,N,v,I,D,M,R=ca.imageCache;for(C=0;C<this.length;C+=1)if(l=this[C],V=L(this[C]))s=F(this[C]),N=new G(w),v=O(this[C],N,w,H),N.visible&&(M=N.source,
D=M.getContext,M.src||D?I=M:M&&(R[M]&&R[M].complete?I=R[M]:(I=new va,M.match(/^data:/i)||(I.crossOrigin=N.crossOrigin),I.src=M,R[M]=I)),I&&(I.complete||D?n(l,V,s,N,v)():(I.onload=n(l,V,s,N,v),I.src=I.src)));return this};e.fn.createPattern=function(H){function w(){s=l.createPattern(q,C.repeat);C.load&&C.load.call(n[0],s)}var n=this,l,C,q,s,v;(l=L(n[0]))?(C=new G(H),v=C.source,ea(v)?(q=e("<canvas />")[0],q.width=C.width,q.height=C.height,H=L(q),v.call(q,H),w()):(H=v.getContext,v.src||H?q=v:(q=new va,
q.crossOrigin=C.crossOrigin,q.src=v),q.complete||H?w():(q.onload=w(),q.src=q.src))):s=h;return s};e.fn.createGradient=function(e){var w,n=[],l,q,y,s,N,D,I;e=new G(e);if(w=L(this[0])){e.x1=e.x1||0;e.y1=e.y1||0;e.x2=e.x2||0;e.y2=e.y2||0;w=e.r1!==h&&e.r2!==h?w.createRadialGradient(e.x1,e.y1,e.r1,e.x2,e.y2,e.r2):w.createLinearGradient(e.x1,e.y1,e.x2,e.y2);for(s=1;e["c"+s]!==v;s+=1)e["s"+s]!==v?n.push(e["s"+s]):n.push(h);l=n.length;n[0]===h&&(n[0]=0);n[l-1]===h&&(n[l-1]=1);for(s=0;s<l;s+=1){if(n[s]!==
h){D=1;I=0;q=n[s];for(N=s+1;N<l;N+=1)if(n[N]!==h){y=n[N];break}else D+=1;q>y&&(n[N]=n[s])}else n[s]===h&&(I+=1,n[s]=q+(y-q)/D*I);w.addColorStop(n[s],e["c"+(s+1)])}}else w=h;return w};e.fn.setPixels=function w(e){var l,q,v,s,y,D,I,F,M;for(q=0;q<this.length;q+=1)if(l=this[q],v=L(l)){s=new G(e);O(l,s,e,w);S(this[q],v,s,s.width,s.height);if(s.width===h||s.height===h)s.width=l.width,s.height=l.height,s.x=s.width/2,s.y=s.height/2;if(0!==s.width&&0!==s.height){D=v.getImageData(s.x-s.width/2,s.y-s.height/
2,s.width,s.height);I=D.data;M=I.length;if(s.each)for(F=0;F<M;F+=4)y={r:I[F],g:I[F+1],b:I[F+2],a:I[F+3]},s.each.call(l,y,s),I[F]=y.r,I[F+1]=y.g,I[F+2]=y.b,I[F+3]=y.a;v.putImageData(D,s.x-s.width/2,s.y-s.height/2);v.restore()}}return this};e.fn.getCanvasImage=function(e,n){var l,q=h;0!==this.length&&(l=this[0],l.toDataURL&&(n===v&&(n=1),q=l.toDataURL("image/"+e,n)));return q};e.fn.detectPixelRatio=function(h){var n,l,v,y,s,D,G;for(l=0;l<this.length;l+=1)n=this[l],e(this[l]),v=L(n),G=F(this[l]),G.scaled||
(y=window.devicePixelRatio||1,s=v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1,y/=s,1!==y&&(s=n.width,D=n.height,n.width=s*y,n.height=D*y,n.style.width=s+"px",n.style.height=D+"px",v.scale(y,y)),G.pixelRatio=y,G.scaled=q,h&&h.call(n,y));return this};$.clearCache=function(){for(var e in ca)ca.hasOwnProperty(e)&&(ca[e]={})};e.support.canvas=e("<canvas />")[0].getContext!==v;Z($,{defaults:la,prefs:void 0,
setGlobalProps:T,transformShape:S,detectEvents:U,closePath:X,setCanvasFont:ra,measureText:sa});e.jCanvas=$;e.jCanvasObject=G})(jQuery,document,Image,Array,Math,parseFloat,!0,!1,null);
